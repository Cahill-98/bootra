{% extends "layout.html" %}


{% block navs %}
    <li class="nav-item">
      <a class="nav-link" href="/">Home</a>
    </li>
    <li class="nav-item active">
      <a class="nav-link" href="/history">History</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/add">Add Book</a>
    </li>
{% endblock %}


{% block title %}
    History
{% endblock %}


{% block main %}
    <div class="white">
        <h1>This is your reading history.</h1>
        <p>You can find your lifetime stats at the bottom.</p>
    </div>
    <br>
    <table class = "table table-striped table-light">
        <thead class="thead-dark">
            <th width="20%">Title</th>
            <th width="20%">Author</th>
            <th width="15%">Started</th>
            <th width="15%">Finished</th>
            <th width="10%">Days</th>
            <th width="10%">Pages</th>
            <th width="10%">Rate</th>
        </thead>
        <tbody>
            {% for book in books %}
                <tr>
                    <td class="left-align"><strong>{{ book["title"] }}</strong></td>
                    <td>{{ book["author"] }}</td>
                    <td>{{ book["start_date"] }}</td>
                    <td>{{ book["end_date"] }}</td>
                    <td>{{ book["days"] }}</td>
                    <td>{{ book["pages"] }}</td>
                    <td>{{ book["rate"]|round|int }}</td>
                </tr>
            {% endfor %}
            {% if books|length < 6 %}
                {% for i in range(books|length,6) %}
                    <tr><td>&nbsp</td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                {% endfor %}
            {% endif %}
        </tbody>
    </table>
    <br>
    <div class="container">
      <div class="row">
        <div class="col-sm">
          <h4><span class="badge badge-dark h3">Total Books <span class="badge badge-light inner-badge">{{ stats["books"] }}</span></span></h4>
        </div>
        <div class="col-sm">
          <h4><span class="badge badge-dark h3">Total Pages <span class="badge badge-light inner-badge">{{ stats["pages"] }}</span></span></h4>
        </div>
        <div class="col-sm">
          <h4><span class="badge badge-dark h3">Avg Daily Rate <span class="badge badge-light inner-badge">{{ stats["rate"] }}</span></span></h4>
        </div>
      </div>
    </div>
{% endblock %}